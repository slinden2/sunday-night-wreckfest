(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{27:function(e,t,n){e.exports=n(38)},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(21),c=n.n(l),u=n(9),i=n(8),o=[{title:"Kalenteri",url:"/"},{title:"Sarjataulukko",url:"/standings"},{title:"SNW",url:"/snw"}],s=function(){return r.a.createElement("div",null,r.a.createElement("ul",null,o.map((function(e){return r.a.createElement("li",{key:e.title},r.a.createElement(u.c,{to:e.url},e.title))}))))},m=n(7),d=n.n(m),p=n(2),f=n(11),E=n(5),v="/api",h=function(e){return"/races/".concat(e)},b=function(e){var t=e.title,n=e.children;return r.a.createElement("div",null,r.a.createElement("h1",null,t),n)},j=function(e){var t=e.data,n=e.headers,a=e.headerMap;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,n.map((function(e){return r.a.createElement("th",{key:e},a[e])})))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:t},n.map((function(t){return r.a.createElement("td",{key:t},e[t])})))}))))},k=function(){return r.a.createElement("div",null,"Loading...")},y=n(25),g=n(26);n(15);var L=function(e){return{type:"SET_CALENDAR",payload:function(e){var t=e.reduce((function(e,t){var n=t.seasonId,a=t.seasonName,r=Object(g.a)(t,["seasonId","seasonName"]);return e[t.seasonId]?e[n].events.push(r):e[n]={seasonId:n,seasonName:a,events:[r]},e}),{});return Object.keys(t).map((function(e){return Object(p.a)({},t[e])}))}(e)}},O=function(e){return{type:"SET_RACES",payload:e}},N=function(e){return{type:"SET_STANDINGS",payload:e}},S={calendar:[],races:[],standings:[]},x=r.a.createContext([S,function(){return S}]),w=function(e){var t=e.reducer,n=e.children,a=r.a.useReducer(t,S),l=Object(E.a)(a,2),c=l[0],u=l[1];return r.a.createElement(x.Provider,{value:[c,u]},n)},I=function(){return r.a.useContext(x)},P={date:"Date",trackName:"Track",qLaps:"Q Laps",raceLaps:"Race Laps",link:"Results"},T=["date","trackName","qLaps","raceLaps","link"],q=function(){var e=I(),t=Object(E.a)(e,1)[0].calendar;return 0===t.length?r.a.createElement(k,null):r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement("div",{key:e.seasonId},r.a.createElement("h2",null,e.seasonName),r.a.createElement(j,{data:e.events,headers:T,headerMap:P}))})))},R=v+"/races",A=function(){var e=I(),t=Object(E.a)(e,2),n=t[0].calendar,a=t[1],l=0===n.length;return r.a.useEffect((function(){l&&function(){var e=Object(f.a)(d.a.mark((function e(){var t,n,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(R);case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,l=n.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{link:r.a.createElement(u.b,{to:h(e.eventId)},"Link")})})),a(L(l)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}()()}),[a,l]),r.a.createElement(b,{title:"Kisakalenteri"},r.a.createElement(q,null))},D=n(24),C=["driverName","racesDriven","points","powerLimit"],M={driverName:"Driver",racesDriven:"Races",points:"Points",powerLimit:"Power Limit"},_=function(e){var t=e.standings;return t.length?r.a.createElement("div",null,r.a.createElement("h2",null,t[0].seasonName),r.a.createElement(j,{data:t,headers:C,headerMap:M})):r.a.createElement("div",null,"No standings found.")},K=function(e){var t=e.options,n=e.selected,a=e.setSelected;return r.a.createElement("select",{value:n,onChange:function(e){return a(e.target.value)}},t.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.content)})))},W=function(e){var t,n=[],a=Object(D.a)(e);try{var r=function(){var e=t.value;if(n.some((function(t){return e.seasonId===t.value})))return"continue";n.push({value:e.seasonId,content:e.seasonName})};for(a.s();!(t=a.n()).done;)r()}catch(l){a.e(l)}finally{a.f()}return n},G=function(){var e=I(),t=Object(E.a)(e,2),n=t[0].standings,a=t[1],l=0===n.length,c=r.a.useState("0400"),u=Object(E.a)(c,2),i=u[0],o=u[1];if(r.a.useEffect((function(){var e=v+"/standings";l&&function(){var t=Object(f.a)(d.a.mark((function t(){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,a(N(r)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}()()}),[a,l]),l)return r.a.createElement(k,null);var s=n.filter((function(e){return e.seasonId===i}));return r.a.createElement(b,{title:"Sarjataulukko"},r.a.createElement(K,{options:W(n),selected:i,setSelected:o}),r.a.createElement(_,{standings:s}))},J=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Mik\xe4 on SNW?"),r.a.createElement("p",null,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Laudantium ut tenetur, animi ratione voluptatem, illum saepe voluptatum beatae eius earum, excepturi commodi veniam fugiat molestiae. Repudiandae adipisci similique doloremque odio."),r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aspernatur, officiis dignissimos. Minima consequuntur perferendis rem deleniti voluptatem deserunt, cum quae et exercitationem vel libero qui, officia quaerat inventore? Laudantium, corrupti?"))},Q=function(){return r.a.createElement(b,{title:"Sunday Night Wreckfest"},r.a.createElement(J,null))},B=["driverName","seasonPoints","group","heatPositions","heatPoints","qTime"],F={driverName:"Kuljettaja",seasonPoints:"P",group:"L",heatPositions:"L\xe4ht\xf6tulokset",heatPoints:"L\xe4ht\xf6pisteet",qTime:"Aika-ajotulos"},Y=function(e){var t=e.data;if(!t)return r.a.createElement("div",null,"The race does not exist.");var n=t.details.map((function(e){var t,n;return Object(p.a)(Object(p.a)({},e),{},{heatPoints:null===(t=e.heatPoints)||void 0===t?void 0:t.join(", "),heatPositions:null===(n=e.heatPositions)||void 0===n?void 0:n.join(", ")})}));return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Date"),r.a.createElement("td",null,t.date)),r.a.createElement("tr",null,r.a.createElement("td",null,"Qualifying Laps"),r.a.createElement("td",null,t.qLaps)),r.a.createElement("tr",null,r.a.createElement("td",null,"Race Laps"),r.a.createElement("td",null,t.raceLaps)),r.a.createElement("tr",null,r.a.createElement("td",null,"Power Limit"),r.a.createElement("td",null,t.hasPowerLimit?"YES":"NO")))),r.a.createElement("h2",null,"Results"),r.a.createElement(j,{data:n,headers:B,headerMap:F}))},z=function(){var e=Object(i.f)().id,t=I(),n=Object(E.a)(t,2),a=n[0].races,l=n[1],c=!a.some((function(t){return t.eventId===e}));if(r.a.useEffect((function(){var t=v+h(e);c&&function(){var e=Object(f.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,l(O(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()()}),[e,l,c]),c)return r.a.createElement(k,null);var u=a.find((function(t){return t.eventId===e}));return r.a.createElement(b,{title:"".concat(null===u||void 0===u?void 0:u.seasonName," | ").concat(null===u||void 0===u?void 0:u.trackName)},r.a.createElement(Y,{data:u}))},H=function(){return r.a.createElement(u.a,null,r.a.createElement("div",null,r.a.createElement(s,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(A,null)),r.a.createElement(i.a,{path:h(":id")},r.a.createElement(z,null)),r.a.createElement(i.a,{path:"/standings"},r.a.createElement(G,null)),r.a.createElement(i.a,{path:"/snw"},r.a.createElement(Q,null)))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,{reducer:function(e,t){switch(t.type){case"SET_CALENDAR":return Object(p.a)(Object(p.a)({},e),{},{calendar:t.payload});case"SET_RACES":return e.races.find((function(e){return e.eventId===t.payload.eventId}))?e:Object(p.a)(Object(p.a)({},e),{},{races:[].concat(Object(y.a)(e.races),[t.payload])});case"SET_STANDINGS":return Object(p.a)(Object(p.a)({},e),{},{standings:t.payload});default:return e}}},r.a.createElement(H,null))),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.76098ce3.chunk.js.map