(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{25:function(e,t,a){e.exports=a(36)},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),c=a.n(l),u=a(10),i=a(9),s=[{title:"Kalenteri",url:"/"},{title:"Sarjataulukko",url:"/standings"},{title:"SNW",url:"/snw"}],o=function(){return r.a.createElement("div",null,r.a.createElement("ul",null,s.map((function(e){return r.a.createElement("li",{key:e.title},r.a.createElement(u.c,{to:e.url},e.title))}))))},m=a(6),d=a(3),p=a.n(d),f=a(8),E=a(5),v=function(e){var t=r.a.useState(null),a=Object(E.a)(t,2),n=a[0],l=a[1],c=r.a.useState(!1),u=Object(E.a)(c,2),i=u[0],s=u[1],o=r.a.useState(!1),m=Object(E.a)(o,2),d=m[0],v=m[1];return[{data:n,loading:i,error:d},r.a.useCallback(Object(f.a)(p.a.mark((function t(){var a,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(null),s(!0),v(!1),t.prev=1,t.next=4,fetch(e);case 4:return a=t.sent,t.next=7,a.json();case 7:n=t.sent,l(n),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),v(!0);case 14:s(!1);case 15:case"end":return t.stop()}}),t,null,[[1,11]])}))),[e])]},h="http://localhost:".concat(3001,"/api"),k=function(e){return"/races/".concat(e)},b=function(e){var t=e.title,a=e.children;return r.a.createElement("div",null,r.a.createElement("h1",null,t),a)},j=function(e){var t=e.data,a=e.headers,n=e.headerMap;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,a.map((function(e){return r.a.createElement("th",{key:e},n[e])})))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:t},a.map((function(t){return r.a.createElement("td",{key:t},e[t])})))}))))},g=function(){return r.a.createElement("div",null,"Loading...")},L={date:"Date",trackName:"Track",qLaps:"Q Laps",raceLaps:"Race Laps",link:"Results"},O=["date","trackName","qLaps","raceLaps","link"],N=function(e){var t=e.seasons;return e.loading||!t?r.a.createElement(g,null):r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement("div",{key:e.seasonId},r.a.createElement("h2",null,e.seasonName),r.a.createElement(j,{data:e.events,headers:O,headerMap:L}))})))},w=a(24);a(13);var y=h+"/races",P=function(){var e=v(y),t=Object(E.a)(e,2),a=t[0],n=t[1],l=a.data,c=a.loading;r.a.useEffect((function(){(function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]);var i=[];return!c&&l&&(i=function(e){var t=e.reduce((function(e,t){var a=t.seasonId,n=t.seasonName,r=Object(w.a)(t,["seasonId","seasonName"]);return e[t.seasonId]?e[a].events.push(r):e[a]={seasonId:a,seasonName:n,events:[r]},e}),{});return Object.keys(t).map((function(e){return Object(m.a)({},t[e])}))}(l.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{link:r.a.createElement(u.b,{to:k(e.eventId)},"Link")})})))),r.a.createElement(b,{title:"Kisakalenteri"},r.a.createElement(N,{seasons:i,loading:c}))},x=a(23),S=["driverName","racesDriven","points","powerLimit"],q={driverName:"Driver",racesDriven:"Races",points:"Points",powerLimit:"Power Limit"},I=function(e){var t=e.standings;return r.a.createElement("div",null,r.a.createElement("h2",null,t[0].seasonName),r.a.createElement(j,{data:t,headers:S,headerMap:q}))},D=function(e){var t=e.options,a=e.selected,n=e.setSelected;return r.a.createElement("select",{value:a,onChange:function(e){return n(e.target.value)}},t.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.content)})))},M=h+"/standings",R=function(e){var t,a=[],n=Object(x.a)(e);try{var r=function(){var e=t.value;if(a.some((function(t){return e.seasonId===t.value})))return"continue";a.push({value:e.seasonId,content:e.seasonName})};for(n.s();!(t=n.n()).done;)r()}catch(l){n.e(l)}finally{n.f()}return a},K=function(){var e=v(M),t=Object(E.a)(e,2),a=t[0],n=t[1],l=r.a.useState("0400"),c=Object(E.a)(l,2),u=c[0],i=c[1],s=a.data,o=a.loading,m=s;if(r.a.useEffect((function(){(function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]),o||!m)return r.a.createElement(g,null);var d=m.filter((function(e){return e.seasonId===u}));return r.a.createElement(b,{title:"Sarjataulukko"},r.a.createElement(D,{options:R(m),selected:u,setSelected:i}),r.a.createElement(I,{standings:d}))},T=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Mik\xe4 on SNW?"),r.a.createElement("p",null,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Laudantium ut tenetur, animi ratione voluptatem, illum saepe voluptatum beatae eius earum, excepturi commodi veniam fugiat molestiae. Repudiandae adipisci similique doloremque odio."),r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aspernatur, officiis dignissimos. Minima consequuntur perferendis rem deleniti voluptatem deserunt, cum quae et exercitationem vel libero qui, officia quaerat inventore? Laudantium, corrupti?"))},W=function(){return r.a.createElement(b,{title:"Sunday Night Wreckfest"},r.a.createElement(T,null))},A=["driverName","seasonPoints","group","heatPositions","heatPoints","qTime"],C={driverName:"Kuljettaja",seasonPoints:"P",group:"L",heatPositions:"L\xe4ht\xf6tulokset",heatPoints:"L\xe4ht\xf6pisteet",qTime:"Aika-ajotulos"},J=function(e){var t=e.raceDetails,a=t.details.map((function(e){var t,a;return Object(m.a)(Object(m.a)({},e),{},{heatPoints:null===(t=e.heatPoints)||void 0===t?void 0:t.join(", "),heatPositions:null===(a=e.heatPositions)||void 0===a?void 0:a.join(", ")})}));return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Date"),r.a.createElement("td",null,t.date)),r.a.createElement("tr",null,r.a.createElement("td",null,"Qualifying Laps"),r.a.createElement("td",null,t.qLaps)),r.a.createElement("tr",null,r.a.createElement("td",null,"Race Laps"),r.a.createElement("td",null,t.raceLaps)),r.a.createElement("tr",null,r.a.createElement("td",null,"Power Limit"),r.a.createElement("td",null,t.hasPowerLimit?"YES":"NO")))),r.a.createElement("h2",null,"Results"),r.a.createElement(j,{data:a,headers:A,headerMap:C}))},Q=function(){var e=Object(i.f)().id,t=v(h+k(e)),a=Object(E.a)(t,2),n=a[0],l=n.data,c=n.loading,u=a[1],s=l;return r.a.useEffect((function(){(function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[u]),c||!l?r.a.createElement(g,null):r.a.createElement(b,{title:"".concat(s.seasonName," | ").concat(s.trackName)},r.a.createElement(J,{raceDetails:s}))},B=function(){return r.a.createElement(u.a,null,r.a.createElement("div",null,r.a.createElement(o,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(P,null)),r.a.createElement(i.a,{path:k(":id")},r.a.createElement(Q,null)),r.a.createElement(i.a,{path:"/standings"},r.a.createElement(K,null)),r.a.createElement(i.a,{path:"/snw"},r.a.createElement(W,null)))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null)),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.2d9091fb.chunk.js.map